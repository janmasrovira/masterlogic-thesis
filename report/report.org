#+latex_compiler: xelatex
#+latex_class: article
#+title: Interpretability logics
#+author: Jan Mas Rovira
#+subtitle: Master's thesis

#+latex_header: \usepackage{unicode-math}
#+latex_header: \usepackage{fontspec}
#+latex_header: \usepackage[x11names, table]{xcolor}
#+latex_header: \usepackage[margin=2.5cm]{geometry}
#+latex_header: \usepackage{lmodern}
#+latex_header: \setmonofont{FreeMono}
#+latex_header: \usepackage{cancel}
#+latex_header: \usepackage{amsthm}

#+latex_header: \hypersetup{colorlinks=true,urlcolor=DodgerBlue4,linkcolor=Firebrick4,citecolor=Green4}
#+latex_header: \newcommand{\ie}[0]{i.e.\ }
#+latex_header: \newcommand{\todo}[0]{\textcolor{red}{pending}}
#+latex_header: \newcommand{\pend}[0]{\textcolor{Tomato3}{pending }}
#+latex_header: \newcommand{\ok}[0]{\textcolor{DeepSkyBlue4}{solved }}
#+macro: red @@latex:{\color{red}@@$1@@latex:}@@

#+macro: begindef @@latex:\begin{definition}@@
#+macro: enddef @@latex:\end{definition}@@

#+macro: begincoro @@latex:\begin{corollary}@@
#+macro: endcoro @@latex:\end{corollary}@@

#+macro: begintheorem @@latex:\begin{theorem}@@
#+macro: endtheorem @@latex:\end{theorem}@@

#+macro: beginproof @@latex:\begin{proof}@@
#+macro: endproof @@latex:\end{proof}@@

#+macro: agda @@latex:\includegraphics[height=\baselineskip]{agda}@@


#+latex_header: \newtheorem{theorem}{Theorem}
#+latex_header: \theoremstyle{definition}
#+latex_header: \newtheorem{corollary}[theorem]{Corollary}
#+latex_header: \theoremstyle{definition}
#+latex_header: \newtheorem{definition}[theorem]{Definition}
#+latex_header: \graphicspath{{img/}}

* Language
  The language of interpretability logics is $âŸ¨âŠ¥,â†’,â–·âŸ©$. We define $âˆ§,â–¡,â™¢,âˆ¨$.

* Notation
  Is this intuitive enough that is not even worth mentioning?
  - $wRuRv$ iff $wRu$ and $uRv$.
  - $wRuS_xv$ iff $wRu$ and $uS_xv$.
  - $wRuâŠ©A$ iff $wRu$ and $uâŠ©A$.
  - $YâŠ©A$ iff for all $yâˆˆY$ we have $yâŠ©A$.
  - $xS_wYâŠ©A$ iff $xS_wY$ and $YâŠ©A$.
  - $[A]â‰”\{w:wâŠ©A\}$.
* Semantics
  In this document we consider two variants of relational semantics for
  interpretability logic similar to Kripke semantics for modal logic.

** Ordinary Veltman semantics
   {{{begindef}}} An ordinary Veltman frame $F=âŸ¨W,R,SâŸ©$ is a structure
   constituted by a set of worlds $W$, a binary relation $RâŠ†WÂ²$ and a ternary
   relation $SâŠ†WÃ—WÃ—W$. We write $wRu$ in place of $âŸ¨w,uâŸ©âˆˆR$ and
   $uS_wv$ in place of $âŸ¨w,u,vâŸ©âˆˆS$. The structure must satisfy the following
   conditions:

   1. $R$ is a transitive.
   2. $R$ is conversely well-founded. That is, there is no infinite ascending
      chain $wâ‚Rwâ‚‚Râ€¦$.
   3. If $uS_wv$ then $wRu$ and $wRv$.
   4. If $wRu$ then $uS_wu$.
   5. For every $w$, $S_w$ is transitive.
   6. If $wRu$ and $uRv$ then $uS_wv$.
   {{{enddef}}}


   {{{begindef}}} An ordinary Veltman model $M=âŸ¨F,VâŸ©$ is a structure constituted
   by an ordinary Veltman frame $F$ and a valuation $VâŠ†WÃ—Var$.

   Given a model $M$, we define a forcing relation $âŠ©_MâŠ†W Ã— Fm$. We write
   $M,wâŠ©A$ in place of $âŸ¨w,AâŸ©âˆˆâŠ©_M$ or simply $wâŠ©A$ when the model is clear by
   the context. We write $wâŠ®A$ when $âŸ¨w,AâŸ©âˆ‰âŠ©_M$.
   - $wâŠ®âŠ¥$.
   - If $xâˆˆVar$, then $wâŠ©x$ iff $âŸ¨w,xâŸ©âˆˆV$.
   - If $A,BâˆˆFm$, then $wâŠ©Aâ†’B$ iff if $wâŠ©A$ then $wâŠ©B$.
   - If $A,BâˆˆFm$, then $wâŠ©Aâ–·B$ iff if $wRu$ and $uâŠ©A$ then there exists $v$ such
     that $vâŠ©B$ and $uS_wv$.
   {{{enddef}}}

   {{{begincoro}}}
   It immediately follows that:
   - If $A,BâˆˆFm$, then $wâŠ©Aâˆ§(âˆ¨)B$ iff $wâŠ©A$ and (or) $wâŠ©B$.
   - If $AâˆˆFm$, then $wâŠ©Â¬A$ iff $wâŠ®A$.
   - If $AâˆˆFm$, then $wâŠ©â™¢A$ iff there exists $u$ such that $wRu$ and $uâŠ©A$.
   - If $AâˆˆFm$, then $wâŠ©â–¡A$ iff for every $u$ such that $wRu$ we have $uâŠ©A$.
   {{{endcoro}}}
   {{{beginproof}}}
   {{{agda}}}
   {{{endproof}}}

** Generalized Veltman semantics
   {{{begindef}}} An ordinary Veltman frame $F=âŸ¨W,R,SâŸ©$ is a structure
   constituted by a set of worlds $W$, a binary relation $RâŠ†WÂ²$ and a ternary
   relation $SâŠ†WÃ—WÃ—(ğ’«(W)âˆ–\{âˆ…\})$. We write $wRu$ in place of $âŸ¨w,uâŸ©âˆˆR$ and
   $uS_wY$ in place of $âŸ¨w,u,YâŸ©âˆˆS$. The structure must satisfy the following
   conditions:

   1. $R$ is a transitive.
   2. $R$ is conversely well-founded. That is, there is no infinite ascending
      chain $wâ‚Rwâ‚‚Râ€¦$.
   3. If $uS_wY$ then $wRu$ and for all $yâˆˆY$ we have $wRy$.
   4. If $wRu$ then $uS_w\{u\}$.
   5. If $xS_wY$ and $yâˆ‰Z$ and $yS_wZ$ then $wS_wZ$.
   6. If $wRu$ and $uRv$ then $uS_w{v}$.
   7. If $VâŠ†Z$ and $ZâŠ†wR\_$ then $uS_wZ$.
   {{{enddef}}}

   {{{begindef}}} An generalized Veltman model $M=âŸ¨F,VâŸ©$ is a structure
   constituted by a generalized Veltman frame $F$ and a valuation $VâŠ†WÃ—Var$.

   Given a model $M$, we define a forcing relation $âŠ©_MâŠ†W Ã— Fm$. We use the same
   notation conventions as in the ordinary semantics.
   - $wâŠ®âŠ¥$.
   - If $xâˆˆVar$, then $wâŠ©x$ iff $âŸ¨w,xâŸ©âˆˆV$.
   - If $A,BâˆˆFm$, then $wâŠ©Aâ†’B$ iff if $wâŠ©A$ then $wâŠ©B$.
   - If $A,BâˆˆFm$, then $wâŠ©Aâ–·B$ iff if $wRu$ and $uâŠ©A$ then there exists $Y$ such
     that $YâŠ©B$ and $uS_wY$. When we write $YâŠ©B$ we mean that for all $yâˆˆY$ we
     have $yâŠ©B$.
   {{{enddef}}}
   {{{begincoro}}}
   It immediately follows that:
   - If $A,BâˆˆFm$, then $wâŠ©Aâˆ§(âˆ¨)B$ iff $wâŠ©A$ and (or) $wâŠ©B$.
   - If $AâˆˆFm$, then $wâŠ©Â¬A$ iff $wâŠ®A$.
   - If $AâˆˆFm$, then $wâŠ©â™¢A$ iff there exists $u$ such that $wRu$ and $uâŠ©A$.
   - If $AâˆˆFm$, then $wâŠ©â–¡A$ iff for every $u$ such that $wRu$ we have $uâŠ©A$.
   {{{endcoro}}}
   {{{beginproof}}}
   {{{agda}}}
   {{{endproof}}}


\newpage
* Logic $IL$
  The logic $IL$ encompasses all classical tautologies in the new language plus
  the following axiom schemes:
  - K: $â–¡ (A â†’ B) â†’ â–¡ A â†’ â–¡ B$
  - J1: $â–¡ (A â†’ B) â†’ A â–· B$
  - J2: $A â–· B âˆ§ B â–· C â†’ A â–· C$
  - J3: $(A â–· C âˆ§ B â–· C) â†’ (A âˆ¨ B) â–· C$
  - J4: $A â–· B â†’ â™¢ A â†’ â™¢ B$
  - J5: $â™¢ A â–· A$
  Additionally it has the following rules:
  - Necessitation: if $âŠ¢_{IL}A$ then $âŠ¢_{IL}â–¡A$.
  - Modus ponens: if $Î âŠ¢_{IL}Aâ†’B$ and $Î âŠ¢_{IL}A$ then $Î âŠ¢_{IL}B$.
  - Identity: If $AâˆˆÎ $ then $Î âŠ¢_{IL}A$.

 {{{begintheorem}}} *Local soundness for ordinary semantics*. That is, if
 $Î âŠ¢_{IL}A$ and $M$ is an ordinary model with a world $w$ such that
 $wâŠ©Î $, then $wâŠ©A$.
  {{{endtheorem}}}
  {{{beginproof}}}
  {{{agda}}}
  {{{endproof}}}

 {{{begintheorem}}} *Local soundness for generalized semantics*. That is, if
 $Î âŠ¢_{IL}A$ and $M$ is a generalized model with a world $w$ such that
 $wâŠ©Î $, then $wâŠ©A$.
  {{{endtheorem}}}
  {{{beginproof}}}
  {{{agda}}}
  {{{endproof}}}


\newpage
* Frame conditions
  A principle is a schema of formulas that carries some special significance.

  In this section we present a series of principles in conjunction with their
  respective frame conditions for ordinary semantics as well as generalized
  semantics.
** $M$ principle
   The $M$ principle reads as follows:
   \[A â–· B â†’ (A âˆ§ â–¡ C) â–· (B âˆ§ â–¡ C)\]

*** Ordinary semantics
   The frame condition for $M$ for ordinary semantics, name it $M_{ord}$,
   reads as follows:
   \[âˆ€w,x,y,z(xS_w yRz â‡’ xRz)\]

   #+caption: Ordinary frame condition for $M$
   #+name: fig:ord-M-condition
   #+attr_latex: :float t :width 0.20\textwidth :placement [H]
   [[file:wip.png]]

   {{{begintheorem}}} For any ordinary frame $F$, we have that $F$ satisfies the
   $M_{ord}$ condition iff any model based on $F$ forces every instantiation of the $M$
   principle. In symbols:

   \[F âŠ¨ M_{ord} â‡” F âŠ© M\] {{{endtheorem}}}

   {{{beginproof}}}
   {{{agda}}}
   - \boxed{â‡’} Let $M$ be a model based on $F$ and let $w$ be any world. Assume
     that $wâŠ©Aâ–·B$ and that there is a world $x$ such that $wRx$ and $xâŠ©Aâˆ§â–¡C$.
     Our aim is to find a world $z$ such that $xS_wzâŠ©Bâˆ§â–¡C$. Since $wRxâŠ©A$ and
     $wâŠ©Aâ–·B$ there is a world $z$ such that $xS_wzâŠ©B$. We now show that $zâŠ©â–¡C$.
     Let $u$ be such that $zRu$, by the frame condition it follows that $xRz$
     and we know $xâŠ©â–¡C$ hence $uâŠ©C$ and thus $zâŠ©â–¡C$. Hence $z$ is the desired
     world.

   - \boxed{â‡} Let $a,b,câˆˆVar$, assume $FâŠ© aâ–·bâ†’(aâˆ§â–¡c)â–·(bâˆ§â–¡c)$. Then for some
     $x,w,u$ we have $xS_wzRu$. Our goal is to prove $xRu$. Consider a model
     such that the following holds.
     \begin{flalign*}
     [a] &= \{x\} \\
     [b] &= \{z\} \\
     [c] &= \{v:xRv\}
     \end{flalign*}
     We observe that $wâŠ©aâ–·b$ because $a$ is only forced in $x$ and we have
     $xS_wzâŠ©b$. Then it follows that $wâŠ©(aâˆ§â–¡c)â–·(bâˆ§â–¡c)$. It is easy to observe
     that $xâŠ©aâˆ§â–¡c$, furthermore we have that by definition of ordinary frame
     $xS_wzâ‡’wRx$, hence $wRx$ and thus there must exist some $v$ such that
     $xS_wvâŠ©bâˆ§â–¡c$. Since $b$ is only true in $z$ it must be $zâŠ©bâˆ§â–¡c$. Then,
     because $zRu$ we have $uâŠ©c$, therefore $xRu$.
   {{{endproof}}}

*** Generalized semantics
   The frame condition for $M$ for generalized semantics, name it $M_{gen}$,
   reads as follows:

   \[ âˆ€w,x,V(xS_wVâ‡’ Î£V'âŠ†V(xS_wV',âˆ€v'âˆˆV'âˆ€z(v'Rzâ‡’xRz)))\]

   #+caption: Generalized frame condition for $M$
   #+name: fig:gen-M-condition
   #+attr_latex: :float t :width 0.20\textwidth :placement [H]
   [[file:wip.png]]

   {{{begintheorem}}} For any generalized frame $F$, we have that $F$ satisfies the
   $M_{gen}$ condition iff any model based on $F$ forces every instantiation of
   the $M$ principle. In symbols:

   \[F âŠ¨ M_{gen} â‡” F âŠ© M\] {{{endtheorem}}}

   {{{beginproof}}}
   {{{agda}}}
   - \boxed{â‡’} Let $M$ be a model based on $F$ and let $w$ be any world. Assume
     that $wâŠ©Aâ–·B$ and that there is a world $x$ such that $wRx$ and $xâŠ©Aâˆ§â–¡C$.
     Our aim is to find a set $Z$ such that $xS_wZâŠ©Bâˆ§â–¡C$. Since $wRxâŠ©A$ and
     $wâŠ©Aâ–·B$ there is set $Z$ such that $xS_wZâŠ©B$. Then by the $M_{gen}$
     condition it follows that there is a world $Z'âŠ†Z$ such that $xS_wZ'$ and
     $âˆ€vâˆˆZ'âˆ€z(vRzâ‡’xRz)$. Now we show $Z'âŠ©â–¡C$. Let $vâˆˆZ'$ and $u$ such that
     $vRu$, by the condition above it follows $xRu$ and since $xâŠ©â–¡C$ we have
     $uâŠ©C$. Hence $Z'$ is the desired set.
   - \boxed{â‡} Let $a,b,câˆˆVar$ and assume $FâŠ©a â–· b â†’ (a âˆ§ â–¡ c) â–· (b âˆ§ â–¡ c)$ and
     $uS_wV$. Consider a model satisfying the following
     \begin{flalign*}
     [a] &= \{u\} \\
     [b] &= V \\
     [c] &= \{v:uRv\}
     \end{flalign*}
     We see that $wâŠ©aâ–·b$ since $a$ is only true in $u$ and we have $uS_wVâŠ©b$. It
     follows that ${wâŠ©(a âˆ§ â–¡ c)â–·(bâˆ§â–¡c)}$. It is easy to see that $uâŠ©aâˆ§â–¡c$, hence
     there must exist $V'$ such that $uS_wV'âŠ©bâˆ§â–¡c$. Clearly $V'âŠ†V$ since $b$ is
     forced exactly in $V$. Now let $v',z$ such that $v'âˆˆV'$ and $v'Rz$. Since
     $v'âŠ©â–¡c$, then $zâŠ©c$ and thus $uRz$. Therefore $V'$ is the desired set.
   {{{endproof}}}
   \newpage
   \newpage
** $Mâ‚€$ principle
   The $Mâ‚€$ principle reads as follows:
   \[A â–· B â†’ (â™¢ A âˆ§ â–¡ C) â–· (B âˆ§ â–¡ C)\]

*** Ordinary semantics
    The $(Mâ‚€)_{ord}$ condition reads as follows:
    \[âˆ€w,x,y,z(wRxRyS_wzâ‡’xS_wz,âˆ€u(zRuâ‡’xRu))\]

    {{{begintheorem}}} For any ordinary frame $F$, we have that $F$ satisfies the
    $(Mâ‚€)_{ord}$ condition iff any model based on $F$ forces every instantiation of
    the $Mâ‚€$ principle. In symbols:

    \[F âŠ¨ (Mâ‚€)_{ord} â‡” F âŠ© Mâ‚€\] {{{endtheorem}}}

    {{{beginproof}}}
    - \boxed{â‡’} Let $M$ be a model based on $F$ and let $w$ be any world. Assume
      that $wâŠ©Aâ–·B$ and that there exists some $x$ such that $wRxâŠ© â™¢ A âˆ§ â–¡ C$. It
      follows that there exists some world $y$ such that $xRyâŠ©A$, then since
      $wRy$ and $wâŠ©Aâ–·B$ there exists a world $z$ such that $yS_wzâŠ©B$. By the
      $(Mâ‚€)_{ord}$ condition we have that $xS_wz$ and $(â‹†)\ âˆ€u(zRuâ‡’xRu)$. Hence,
      it remains to show $zâŠ©â–¡C$. Consider some world $u$ such that $zRu$, by
      $(â‹†)$ it follows that $xRu$ and since $xâŠ©â–¡C$ we also have $uâŠ©C$.
    - \boxed{â‡} Let $a,b,câˆˆVar$ and assume $FâŠ©a â–· b â†’ (â™¢ a âˆ§ â–¡ c) â–· (b âˆ§ â–¡ c)$ and
      assume that for some $w,x,y,z$ we have $wRxRyS_wz$. Consider a model based
      on $F$ such that the following holds:
      \begin{flalign*}
      [a] &= \{y\} \\
      [b] &= \{z\} \\
      [c] &= \{w:xRw\}
      \end{flalign*}
      Observe that $wâŠ©aâ–·b$ since $a$ is forced only in $y$ and we have $yS_wzâŠ©b$.
      It follows that $wâŠ©(â™¢ a âˆ§ â–¡ c) â–· (b âˆ§ â–¡ c)$. Clearly $xâŠ©â™¢aâˆ§â–¡c$, hence there
      must exist some world $v$ such that $xS_wvâŠ©bâˆ§â–¡c$ but since $b$ is only
      forced in $z$ we have $z=v$ and thus $xS_wz$. To prove the remaining
      implication let $u$ such that $zRu$, then $uâŠ©c$ and thus $xRu$.
    {{{endproof}}}


*** Generalized semantics
    The $(Mâ‚€)_{gen}$ condition reads as follows:
    \[âˆ€w,x,y,Y(wRxRyS_wYâ‡’âˆƒY'âŠ†Y(xS_wY',âˆ€y'âˆˆY'âˆ€z(y'Rzâ‡’xRz)))\]

    {{{begintheorem}}} For any ordinary frame $F$, we have that $F$ satisfies the
    $(Mâ‚€)_{gen}$ condition iff any model based on $F$ forces every instantiation of
    the $Mâ‚€$ principle. In symbols:

    \[F âŠ¨ (Mâ‚€)_{gen} â‡” F âŠ© Mâ‚€\] {{{endtheorem}}}

    {{{beginproof}}}
    {{{agda}}}
    - \boxed{â‡’} Let $M$ be a model based on $F$ and let $w$ be any world. Assume
      that $wâŠ©Aâ–·B$ and that there is a world $x$ such that $wRxâŠ©â™¢Aâˆ§â–¡C$. Then
      there must exist some world $y$ such that $xRyâŠ©A$. Since $wRy$ and $wâŠ©Aâ–·B$
      there exists some set $Y$ such that $yS_wYâŠ©B$. Then by the $(Mâ‚€)_{gen}$
      condition we have that there exists some $Y'âŠ†Y$ such that $xS_wY'$ and
      $(â‹†)\ âˆ€y'âˆˆY'âˆ€z(y'Rzâ‡’xRz)$. Clearly $Y'âŠ©B$ since $Y'âŠ†Y$. To show that
      $Y'âŠ©â–¡C$ consider some $y'âˆˆY'$ and some $z$ such that $y'Rz$. Then, by
      $(â‹†)$ it follows that $xRz$ and since $xâŠ©â–¡C$ we also have $xâŠ©C$.
    - \boxed{â‡} Let $a,b,câˆˆVar$ and assume $FâŠ©a â–· b â†’ (â™¢ a âˆ§ â–¡ c) â–· (b âˆ§ â–¡ c)$
      and assume that for some $w,x,y,Y$ we have $wRxRyS_wY$. Then consider a
      model based on $F$ such that.
      \begin{flalign*}
      [a] &= \{y\} \\
      [b] &= Y \\
      [c] &= \{w:xRw\}
      \end{flalign*}
      Observe that $wâŠ©aâ–·b$ as $a$ is only forced in $y$ and we have $yS_wYâŠ©b$.
      Consequently it holds that $wâŠ©(â™¢ a âˆ§ â–¡ c) â–· (b âˆ§ â–¡ c)$. See also that
      $xâŠ©â™¢a$ since $xRyâŠ©a$ and also $xâŠ©â–¡c$ by definition of the model. Then
      there must exist some set $Y'$ such that $xS_wY'âŠ©bâˆ§â–¡c$. Clearly $Y'âŠ†Y$ since
      $Y'âŠ©b$. To show the remaining condition pick some $y'âˆˆY'$ and some $z$
      such that $y'Rz$. Since $Y'âŠ©â–¡c$ then $zâŠ©c$ and thus $xRz$.
    {{{endproof}}}

** $Pâ‚€$ principle

   The $Pâ‚€$ principle reads as follows.
   The $Pâ‚€$ principle reads as follows:
   \[A â–· â™¢ B â†’ â–¡ (A â–· B)\]
*** Ordinary semantics
    The $(Pâ‚€)_{ord}$ condition reads as follows:
    \[âˆ€w,x,y,z,u(wRxRyS_wzRuâ‡’yS_xu)\]

   {{{begintheorem}}} For any ordinary frame $F$, we have that $F$ satisfies the
   $(Pâ‚€)_{ord}$ condition iff any model based on $F$ forces every instantiation of
   the $Pâ‚€$ principle. In symbols:

   \[F âŠ¨ (Pâ‚€)_{ord} â‡” F âŠ© Pâ‚€\] {{{endtheorem}}}

   {{{beginproof}}}
   - \boxed{â‡’} Let $M$ be a model based on $F$ and let $w$ be any world. Assume
     that $wâŠ©Aâ–·â™¢B$ and that there is a world $x$ such that $wRx$. Our goal is to
     show that $xâŠ©Aâ–·B$. Consider a world $y$ such that $xRyâŠ©A$. As $wRy$ and
     $wâŠ©Aâ–·â™¢B$ then there exist some worlds $z,u$ such that $yS_wzRuâŠ©B$. By the
     $(Pâ‚€)_{ord}$ condition it follows that $yS_xu$ and thus $xâŠ©Aâ–·B$.
   - \boxed{â‡} Let $a,bâˆˆVar$ and assume $FâŠ©a â–· â™¢ b â†’ â–¡ (a â–· b)$ and assume that
     $wRxRyS_wzRu$. We want to show $yS_xu$. Consider a model based on $F$ such
     that:
     \begin{flalign*}
     [a] = \{y \} \\
     [b] = \{u \}
     \end{flalign*}
     Observe that $wâŠ©aâ–·â™¢b$ as the only world that forces $a$ is $y$ and we have
     $yS_wzâŠ©â™¢b$, because $zRuâŠ©b$. Consequently we have $wâŠ©â–¡(aâ–·b)$ and therefore
     $xâŠ©aâ–·b$. Then, since $xRyâŠ©a$ it follows that there exist some $v$ such that
     $yS_xvâŠ©b$, but since $b$ is only forced in $u$, it must be $u=v$ and so
     $yS_xu$.
   {{{endproof}}}

*** Generalized semantics
    The $(Pâ‚‰)_{gen}$ condition reads as follows:
    \[âˆ€w,x,y,Y,Z((wRxRyS_wY,âˆ€yâˆˆYâˆƒzâˆˆZ(yRz))â‡’âˆƒZ'âŠ†Z(yS_xZ'))\]

   {{{begintheorem}}} For any generalized frame $F$, we have that $F$ satisfies the
   $(Pâ‚€)_{gen}$ condition iff any model based on $F$ forces every instantiation of
   the $Pâ‚€$ principle. In symbols:

   \[F âŠ¨ (Pâ‚€)_{gen} â‡” F âŠ© Pâ‚€\] {{{endtheorem}}}

   {{{beginproof}}}
   {{{agda}}}
   - \boxed{â‡’} Let $M$ be a model based on $F$ and let $w$ be any world. Assume
     that $wâŠ©Aâ–·â™¢B$ and that there is a world $x$ such that $wRx$. We aim to show
     that $xâŠ©Aâ–·B$. Assume there is a world $u$ such that $xRuâŠ©A$ and as $wRu$
     and $wâŠ©Aâ–·â™¢B$ then there exists a set $Y$ $uS_xYâŠ©â™¢B$. Let $ğ”¹=\{w:wâŠ©B\}$.
     Then observe that $âˆ€yâˆˆY$ there exists some $zâˆˆğ”¹$ since $YâŠ©â™¢B$. Hence by the
     $(Pâ‚€)_{gen}$ condition there exists some $ğ”¹'âŠ†ğ”¹$ such that $yS_xğ”¹'$. Clearly
     $ğ”¹'âŠ©B$, therefore $xâŠ©Aâ–·B$.
   - \boxed{â‡} Let $a,bâˆˆVar$ and assume $FâŠ©a â–· â™¢ b â†’ â–¡ (a â–· b)$ and assume
     that for some $w,x,y,Y,Z$ we have $wRxRyS_wY$ and $(â‹†)\ âˆ€yâˆˆYâˆƒzâˆˆZ(yRz)$.
     Consider a model based on $F$ such that:
     \begin{flalign*}
    [a] &= \{y\} \\
    [b] &= Z
     \end{flalign*}
     See that $wâŠ©aâ–·â™¢b$ as the only world that forces $a$ is $y$ and we have
     $yS_wY$ and by $(â‹†)$ it follows that $YâŠ©â™¢b$. Consequently it holds that
     $wâŠ©â–¡(aâ–·b)$ and since $wRx$ then $xâŠ©aâ–·b$. Also, since $xRyâŠ©a$ then there
     exists $Z'$ such that $yS_xZ'âŠ©b$. Clearly $Z'âŠ©b$ implies $Z'âŠ†Z$ so we are
     done.
   {{{endproof}}}

   \newpage
** $R$ principle
   The $R$ principle reads as follows:

   \[A â–· B â†’ (Â¬ (A â–· Â¬C) â–· (B âˆ§ â–¡ C))\]

*** Ordinary semantics
    The $R_{ord}$ condition reads as follows:
    \[âˆ€w,x,y,z(wRxRyS_wzâ‡’âˆ€v(zRvâ‡’yS_xv)) \]

   #+caption: Ordinary frame condition for $R$
   #+name: fig:ord-R-condition
   #+attr_latex: :float t :width 0.20\textwidth :placement [H]
   [[file:wip.png]]

   {{{begintheorem}}}
   For any ordinary frame $F$, we have that $F$ satisfies the
   $R_{ord}$ condition iff any model based on $F$ forces every instantiation of
   the $R$ principle. In symbols:

   \[F âŠ¨ R_{ord} â‡” F âŠ© R\]
   {{{endtheorem}}}
   {{{beginproof}}}
   - \boxed{â‡’} Let $M$ be a model based on $F$ and let $w$ be any world. Assume
     that $wâŠ©Aâ–·B$ and that there is a world $x$ such that $wRxâŠ©Â¬(Aâ–·Â¬C)$. We need
     to see that there is some world $v$ such that $xS_wvâŠ©Bâˆ§â–¡C$. From
     $xâŠ©Â¬(Aâ–·Â¬C)$ we get a world $y$ such that $xRyâŠ©A$ and $(â‹†)\ âˆ€v(yS_xvâ‡’vâŠ©C)$.
     Since $wâŠ©Aâ†’B$ and by transitivity we have $wRy$ it follows that there
     exists a world $z$ such that $yS_wzâŠ©B$. To see that $z$ is the desired
     world it remains to see that $zâŠ©â–¡C$. Let $u$ be such that $zRu$, then by
     $R_{ord}$ it follows that $yS_xu$ and by $(â‹†)$ we get $uâŠ©C$.
   - \boxed{â‡} Let $a,b,câˆˆVar$ and assume that for some $w,x,y,z$ we have
     $wRxRyS_wz$ . Consider a model
     based on $F$ that satisfies the following.
    \begin{flalign*}
     [a] &= \{y\} \\
     [b] &= \{z\} \\
     [c] &= \{u:yS_xu\}
    \end{flalign*}
     By assumption we have that $wâŠ©a â–· b â†’ (Â¬ (a â–· Â¬c) â–· (b âˆ§ â–¡ c))$. Clearly
     $wâŠ©aâ–·b$ as we have $yS_wzâŠ©b$. Consequently it holds that $wâŠ©Â¬ (a â–· Â¬c) â–· (b
     âˆ§ â–¡ c)$. In order to show that $xâŠ©Â¬ (a â–· Â¬c)$, considering that $a$ is only
     forced in $y$, it suffices to observe that $âˆ€z(yS_xzâ‡’zâŠ©c)$, which clearly
     holds. Then there must exist some world $v$ such that $xS_wvâŠ©bâˆ§â–¡c$ but
     $v=z$ since $z$ is the only world that forces $b$, hence $xS_wzâŠ©â–¡c$. Now to
     show $âˆ€v(zRvâ‡’yS_xv)$ consider some $v$ such that $zRv$. From $zâŠ©â–¡c$ we get
     $vâŠ©c$ and thus $yS_xv$.
   {{{endproof}}}

*** Generalized semantics

    We first introduce the concept of choice set

   {{{begindef}}} If $xRy$ we say that a set of worlds $K$ is a choice set for
   $âŸ¨x,yâŸ©$ iff for any $V$ such that $yS_xV$ we have $Vâˆ©Kâ‰ âˆ…$. We denote the
   family of choice sets for $âŸ¨x,yâŸ©$ by $ğ’(x,y)$. Note that this definition
   depends on the frame, but it should always be clear by context.
   {{{enddef}}}

    The $R_{gen}$ condition reads as follows:
    \begin{flalign*}
    &âˆ€w,x,y,Y,K(wRxRyS_wY,Kâˆˆğ’(x,y)   \\
    â‡’& âˆƒY'âŠ†Y(xS_wY',âˆ€y'âˆˆY'âˆ€z(y'Rzâ†’zâˆˆK)))
    \end{flalign*}

   #+caption: Generalized frame condition for $R$
   #+name: fig:gen-R-condition
   #+attr_latex: :float t :width 0.20\textwidth :placement [H]
   [[file:wip.png]]

   {{{begintheorem}}}
   For any generalized frame $F$, we have that $F$ satisfies the
   $R_{gen}$ condition iff any model based on $F$ forces every instantiation of
   the $R$ principle. In symbols:

   \[F âŠ¨ R_{gen} â‡” F âŠ© R\]
   {{{endtheorem}}}
   {{{beginproof}}}
   {{{agda}}}
   - \boxed{â‡’} Let $M$ be a model based on $F$ assume there is a world $w$ such
     that $wâŠ©Aâ–·B$ and a world $x$ such that $wRx$ and $xâŠ©Â¬(Aâ–·Â¬C)$. We need to
     show that there is a set $Z$ such that $xS_wZâŠ©Bâˆ§â–¡C$. From $xâŠ©Â¬(Aâ–·Â¬C)$ it
     follows that there is a world $y$ such that $xRyâŠ©A$ and $(â‹†)\
     âˆ€V(yS_xVâ‡’âˆƒcâˆˆV(câŠ©C))$. Consider the set $Kâ‰”\{c:câŠ©C,âˆƒV(câˆˆV,yS_xV)\}$. Clearly
     by $(â‹†)$ it follows that $K$ is a choice set for $âŸ¨x,yâŸ©$. By transitivity
     of $R$ we get $wRy$ and since $wâŠ©Aâ–·B$ then there must exist some $Y$ such
     that $yS_wYâŠ©B$. We can now apply the $R_{gen}$ condition and get a $Y'âŠ†Y$
     such that $xS_wY'$ and $(â€ )\ âˆ€y'âˆˆY'âˆ€z(y'Rzâ†’zâˆˆK)$. To show that $Y'$ is the
     desired set it remains to see that $Y'âŠ©Bâˆ§â–¡C$. From the fact that $Y'âŠ†YâŠ©B$
     it easily follows that $Y'âŠ©B$. Now, let $y'âˆˆY'$ and $u$ such that $y'Ru$,
     from $(â€ )$ we get $uâˆˆK$ and by definition of $K$ we have $uâŠ©C$.
   - \boxed{â‡} Let $a,b,câˆˆVar$ and assume $FâŠ© a â–· b â†’ (Â¬ (a â–· Â¬c) â–· (b âˆ§ â–¡ c))$.
     Assume also that for some $w,x,y,Y,K$ we have $wRxRyS_wY,Kâˆˆğ’(x,y)$. Now
     consider a model based on $F$ that satisfies the following:
    \begin{flalign*}
    [a] &=\{y\} \\
    [b] &=Y \\
    [c] &= K \\
    \end{flalign*}
    By assumption we have $wâŠ©a â–· b â†’ (Â¬ (a â–· Â¬c) â–· (b âˆ§ â–¡ c))$. Observe that
     that $wâŠ©aâ–·b$ since $yS_wYâŠ©b$. Thus $wâŠ©Â¬ (a â–· Â¬c) â–· (b âˆ§ â–¡ c)$. Being $y$
     the only world that forces $a$, in order to show $xâŠ©Â¬(aâ–·Â¬c)$ we need to see
     that $âˆ€V(yS_xVâ‡’âˆƒzâˆˆV(zâŠ©c))$, which is equivalent to $âˆ€V(yS_xVâ‡’âˆƒzâˆˆVâˆ©K)$ and
     this holds since $Kâˆˆğ’(x,y)$. As a consequence of $xâŠ©Â¬(aâ–·Â¬c)$ we have that
     there exists a $Y'$ such that $xS_wY'âŠ©bâˆ§â–¡c$. From $Y'âŠ©b$ we get $Y'âŠ†Y$ and
     from $Y'âŠ©â–¡c$ we get $âˆ€y'âˆˆY'(âˆ€z(y'Rzâ†’zâˆˆK))$, hence $Y'$ is the desired set.
   {{{endproof}}}

** $Râ‚$ principle
  The $R_1$ principle reads as follows:
  \[A â–· B â†’ (Â¬(A â–· Â¬C)âˆ§ (Dâ–·â™¢E))â–·(Bâˆ§â–¡Câˆ§(Dâ–·E))\]

*** Ordinary semantics

    The $(Râ‚)_{ord}$ frame condition reads as follows (pull quantifiers out?):
    \[âˆ€w,x,y,z(wRxRyS_wzâ‡’âˆ€u(zRuâ‡’yS_xu,âˆ€v(uS_xvâ‡’âˆ€m(vRmâ‡’uS_zm))))\]

    # #+caption: Ordinary frame condition for $Râ‚$
    # #+name: fig:ord-Râ‚-condition
    # #+attr_latex: :float t :width 0.20\textwidth :placement [H]
    # [[file:wip.png]]

    {{{begintheorem}}}
    For any ordinary frame $F$, we have that $F$ satisfies the
    $(Râ‚)_{ord}$ condition iff any model based on $F$ forces every instantiation of
    the $Râ‚$ principle. In symbols:

    \[F âŠ¨ (Râ‚)_{ord} â‡” F âŠ© Râ‚\]
    {{{endtheorem}}}

    {{{beginproof}}}
    - \boxed{â‡} Let $a,b,c,d,eâˆˆVar$ and assume $FâŠ© a â–· b â†’ ((Â¬ (a â–· Â¬c) âˆ§(dâ–·â™¢e))
      â–· (b âˆ§ â–¡ c âˆ§ (dâ–·e)))$. Consider some worlds $w,x,y,z,u,v,m$ and assume for
      a contradiction that $wRxRyS_wzRu,yS_xuâ‡’(uS_xv,vRm,u\cancel{S}_zm)$. Now
      consider a model based on $F$ that satisfies the following:
      \begin{flalign*}
      [a] &= \{y\} \\
      [b] &= \{z\} \\
      [c] &= \{w:yS_xw\} \\
      [d] &= \{?\} \\
      [e] &= \{?\} \\
      \end{flalign*}
      First observe that $wâŠ©aâ–·b$ since $a$ is only forced in $y$ and we have
      $yS_wzâŠ©b$. Therefore $wâŠ©Â¬ (a â–· Â¬c) âˆ§(dâ–·â™¢e) â–· (b âˆ§ â–¡ c âˆ§ (dâ–·e))$. Now we
      show that $xâŠ©Â¬ (a â–· Â¬c)$. Since $a$ is only forced in $y$ and $xRy$, we
      need to show that $âˆ€u(yS_xuâ‡’uâŠ©c)$, which clearly holds. We proceed by
      showing $xâŠ©dâ–·â™¢e$.
    - \boxed{â‡’} Let $M$ be a model based on $F$ assume there is a world $w$ such
      that $wâŠ©Aâ–·B$ and a world $x$ such that $wRx$ and $xâŠ©Â¬(Aâ–·Â¬C)âˆ§(Dâ–·â™¢E)$. Then
      there exists world $y$ such that $xRyâŠ©A$ and $(â‹†)\ âˆ€v(yS_xvâ‡’vâŠ©C)$. As
      $wRyâŠ©A$ and $wâŠ©Aâ–·B$ there exists a world $z$ such that $yS_wzâŠ©B$. It
      remains to show that $zâŠ©â–¡Câˆ§(Dâ–·E)$. We first see that $zâŠ©â–¡C$. Consider
      $v$ such that $zRv$, by $(Râ‚)_{ord}$ it follows that $yS_xv$ and by $(â‹†)$
      we get $vâŠ©C$. Now we show $zâŠ©Dâ–·E$. Let $u$ be such that $zRuâŠ©D$, we need
      to find some $m$ such that $uS_zmâŠ©E$. By $(Râ‚)_{ord}$ we get $yS_xu$ and
      $(â€ )\ âˆ€v,m((uS_xv,vRm)â‡’uS_zm)$. See that $yS_xu$ implies $xRu$ and since
      $xâŠ©Dâ–·â™¢E$ and $uâŠ©D$ we get that there is some $n$ such that $uS_xnâŠ©â™¢E$.
      Hence there is a world $m$ such that $nRmâŠ©E$. Finally by $(â€ )$ and $uS_xn$
      and $nRm$ we get $uS_zm$ and thus we have the desired $m$ and we conclude
      $zâŠ©Dâ–·E$.

    {{{endproof}}}

*** Generalized semantics
    Some definitions:
    1. $R^{-1}[E] â‰” \{x : âˆƒyâˆˆE. xRy\}$. $E$ denotes a set.
    2. $Râ‚“^{-1}[E]â‰”R^{-1}[E]âˆ©R[x]$. $E$ denotes a set.


    The $(R_1)_{gen}$ condition reads as follows:
    \begin{flalign*}
    &âˆ€w,x,u,V,K,ğ”¼(wRxRuS_wV, Kâˆˆğ’(x,u) \\
    â‡’\ & (âˆƒV'âŠ†V)(xS_wV',R[V']âŠ†K,(âˆ€vâˆˆV')(âˆ€câˆˆK)(vRcSâ‚“Râ‚“^{-1}[ğ”¼]â‡’(âˆƒğ”¼'âŠ†ğ”¼)cS_vğ”¼')))
    \end{flalign*}

    {{{begintheorem}}}
    For any generalized frame $F$, we have that $F$ satisfies the
    $(Râ‚)_{gen}$ condition iff any model based on $F$ forces every instantiation of
    the $Râ‚$ principle. In symbols:

    \[FâŠ¨(Râ‚)_{gen}â‡”FâŠ©Râ‚\]
    {{{endtheorem}}}

    {{{beginproof}}}
    {{{agda}}}
    - \boxed{â‡’} Let's fix the model and let $w âˆˆ W$ be arbitrary. Suppose $wâŠ© A
      â–·B$, and let $x$ be such that $wRx$ and $xâŠ© Â¬(A â–· Â¬C) âˆ§ (D â–· â™¢E)$. It
      follows from $x âŠ©Â¬(A â–·Â¬C)$ that there exists $u$ such that $xRu$, such
      that $uâŠ©A$, and for every $Z$ such that $uS_x Z$ there is some $c_Z âˆˆ Z$
      such that $c_Z âŠ©C$. From $wRu$, $wâŠ© Aâ–· B$ and $uâŠ© A$ follows in particular
      that there is a $V$, $uS_w V âŠ©B$. Let $K â‰” \{c_Z: uS_x Z\}$. It is easy to
      check that $K âˆˆ ğ’(x, u)$. Let $ğ”¼ â‰” [âŠ©E]$ (set of worlds that force $E$).
      For the selected $w, x, u, V, K, ğ”¼$ the property $(R 1)_{gen}$ implies
      that there exists $V' âŠ† V$ such that:

      \[xS_wV',R[V']âŠ†K ,(âˆ€vâˆˆV')(âˆ€câˆˆK)(vRcS_xR_x^{-1}[ğ”¼]â‡’(âˆƒğ”¼'âŠ†ğ”¼)cS_vğ”¼')\]

      We have that $V' âŠ©B$ since $V'âŠ†V$ and $V'âŠ©â–¡ C$ since $R[V']âŠ†K$. We now show
      that $V'âŠ© Dâ–· E$. Assume that for some $c âˆˆ R [V']$ we have $câŠ© D$. From
      earlier we have $xâŠ© D â–· â™¢E$. Since $c âˆˆ R [V '] âŠ† C âŠ† R [x]$, then $xRc$ so
      it follows that there exists $U$ such that $cS_x U$ and $UâŠ©â™¢E$. Clearly
      $UâŠ†[â™¢E]_x$ and also $[â™¢E]_xâŠ†R[x]$, hence by monotonicity we have
      $cS_x[â™¢E]_x$ which is the same as $cS_x R_x^{âˆ’1}[ğ”¼]$ so by the above
      property there exists $ğ”¼'âŠ†ğ”¼$ such that $cS_v ğ”¼'$. Because $ğ”¼'âŠ†ğ”¼$ we have
      $ğ”¼'âŠ©E$.
    - \boxed{â‡} Assume for a contradiction that $FâŠ­(Râ‚)_{gen}$. It follows that
      there exist $w,x,u,V,K,ğ”¼$ such that $wRxRuS_wV$, $Kâˆˆğ’(x,u)$ and:
      \[(âˆ€V'âŠ†V)(xS_wV', R[V']âŠ†Kâ‡’ (âˆƒvâˆˆV')(âˆƒcâˆˆK)(vRcS_xR_x^{-1}[ğ”¼ğ”¼], (âˆ€ğ”¼'âŠ†ğ”¼)
      c\cancel{S}_v ğ”¼'))\]

      Let $ğ’±$ be a family of sets defined thus:
      \[ğ’±â‰” \{U : UâŠ†V, xS_wU,R[U]âŠ†K\}\]

      From the condition it follows that for every $Uâˆˆğ’±$ the following is valid:
      \[(âˆƒv_UâˆˆU)(âˆƒc_UâˆˆK)(v_URc_US_xR_x^{-1}[ğ”¼],(âˆ€ğ”¼'âŠ†ğ”¼) c_U\cancel{S}_{v_U} ğ”¼')\]

      Let us fix such $v_U$ and $c_U$ for all $Uâˆˆğ’±$.

      Define a valuation such that the following applies:
      \begin{flalign*}
      [âŠ©a] &= \{u\} \\
      [âŠ©b] &= V \\
      [âŠ©c] &= K \\
      [âŠ©d] &= \{c_U:Uâˆˆğ’±\} \\
      [âŠ©e] &= ğ”¼
      \end{flalign*}

      By assumption we have $w âŠ© a â–· b â†’ (Â¬(aâ–·Â¬c)âˆ§(dâ–·â™¢e))â–·(bâˆ§â–¡câˆ§(dâ–·e))$.

      It is easy to see that $w âŠ© a â–· b$ and $x âŠ© Â¬(a â–· Â¬c)$.

      Let us prove $x âŠ© dâ–·â™¢e$. Let $xRcâŠ© D$. Then $c = c_U$ for some $U âˆˆ ğ’±$. From
      the definition of $c_U$ we have $c_U S_x R_x^{âˆ’1} [ğ”¼]$, a forcing is defined
      such that $e$ is true exactly on the set $ğ”¼$. Hence $R_x^{-1}[ğ”¼]âŠ©â™¢e$ and thus
      $x âŠ© dâ–·â™¢e$.

      We can also check that for $U âˆˆ ğ’±$ we have $UâŠ© b âˆ§ â–¡c$ and the following
      following condition holds for any set $U$:
      \begin{flalign*}
        (â‹†)\ xS_wU ,UâŠ© b âˆ§ â–¡câ‡’Uâˆˆ ğ’±
      \end{flalign*}
      Then since $wâŠ©aâ–·b$ and $wRxâŠ©(aâ—c)âˆ§(dâ–·â™¢e)$ there must exist some set $U$
      such that $xS_wUâŠ©bâˆ§â–¡câˆ§(dâ–·e)$. From $(â‹†)$ follows that that $Uâˆˆğ’±$ hence
      there exist $v_U,c_U$ such that $v_URc_US_xR_x^{-1}[ğ”¼],(âˆ€ğ”¼'âŠ†ğ”¼)
      c_U\cancel{S}_{v_U} ğ”¼'$. Since $c_UâŠ©d$ there must exist some $Z$ such that
      $c_US_{v_U}ZâŠ©e$, however, by the definition of the valuation it follows
      that $ZâŠ†ğ”¼$ and thus $c_U\cancel{S}_{v_U} Z$, which is a contradiction.

    {{{endproof}}}

# \newpage
** $RÂ¹$ principle

   The $RÂ¹$ principle reads as follows:
   \[A â–· B â†’ (â™¢Â¬(D â–· Â¬C)âˆ§ (Dâ–·A))â–·(Bâˆ§â–¡C)\]

*** Generalized semantics
    The $(RÂ¹)_{gen}$ condition reads as follows:
    \begin{flalign*}
    &âˆ€w,x,y,z,ğ”¸,ğ”¹,â„‚,ğ”». \\
    &wRxRyRz, \\
    & (âˆ€u.wRu,uâˆˆğ”¸â‡’âˆƒV.uS_wV,VâŠ†ğ”¹), \\
    & (âˆ€u.xRu,uâˆˆğ”»â‡’âˆƒV.uS_xV,VâŠ†ğ”¸), \\
    & (âˆ€V.zS_yVâ‡’âˆƒvâˆˆV.vâˆˆâ„‚),      \\
    & zâˆˆğ”» \\
    â‡’\ & âˆƒVâŠ†ğ”¹(xS_wV,R[V]âŠ†â„‚)
    \end{flalign*}

    {{{begintheorem}}}
    For any generalized frame $F$, we have that $F$ satisfies the
    $(RÂ¹)_{gen}$ condition iff any model based on $F$ forces every instantiation of
    the $RÂ¹$ principle. In symbols:

    \[FâŠ¨(RÂ¹)_{gen}â‡”FâŠ©RÂ¹\]
    {{{endtheorem}}}


    {{{beginproof}}}
    {{{agda}}}
    - \boxed{â‡’} Fix a model $M$ and a world $w$, we are to prove that $wâŠ©A â–· B â†’
      (â™¢Â¬(D â–· Â¬C)âˆ§ (Dâ–·A))â–·(Bâˆ§â–¡C)$. For that assume that $wâŠ©Aâ–·B$ and that for some
      $x,y,z$ we have $wRxRyRz$ and $xâŠ©Dâ–·A$, $yâŠ©Â¬(Dâ–·Â¬C)$, $zâŠ©D$. Now let
      $ğ”¸â‰”\{w:wâŠ©A\}$. We define $ğ”¹,â„‚,ğ”»$ likewise for formulas $B,C,D$ respectively.
      It is routine to check that the left part of the implication of $(RÂ¹)_{gen}$
      is met. Hence there exist a set $VâŠ†ğ”¹$ such that $xS_wV$ and $R[V]âŠ†â„‚$. By the
      definition of the sets $ğ”¹$ and $â„‚$ it follows that $VâŠ©Bâˆ§â–¡C$.
    - \boxed{â‡} Fix a frame $F$ and let $a,b,c,d$ be propositional variables and
      assume $FâŠ©a â–· b â†’ (â™¢Â¬(d â–· Â¬c)âˆ§ (dâ–·a))â–·(bâˆ§â–¡c)$. Assume that the left part of
      the implication of $(RÂ¹)_{gen}$ holds. Now let $V$ be a valuation defined by
      \begin{flalign*}
       [a] &= ğ”¸ \\
       [b] &= ğ”¹ \\
       [c] &= â„‚ \\
       [d] &= ğ”»
      \end{flalign*}
      Now one can easily check that $wâŠ©Aâ–·B$, $xâŠ©â™¢Â¬(Dâ–·Â¬C)âˆ§(Dâ–·A)$, hence there exists $U$
      such that $xS_wU$ and $UâŠ©Bâˆ§â–¡C$. From that we derive that $UâŠ†ğ”¹$ and $R[U]âŠ†â„‚$.
    {{{endproof}}}

\newpage
** $RÂ²$ principle

   The $RÂ²$ principle reads as follows:
   \[A â–· B â†’ (â™¢ [(E â–· D) âˆ§ â™¢ Â¬ (E â–· Â¬ C)] âˆ§ (D â–· A)) â–· (B âˆ§ â–¡ C) \]

*** Generalized semantics
    The $(RÂ²)_{gen}$ condition reads as follows:
    \begin{flalign*}
    &âˆ€w,x,y,z,s,ğ”¸,ğ”¹,â„‚,ğ”»,ğ”¼.\\
    &wRxRyRzRs, \\
    & (âˆ€u.wRuâˆˆğ”¸â‡’âˆƒV.uS_wVâŠ†ğ”¹), \\
    & (âˆ€u.xRuâˆˆğ”»â‡’âˆƒV.uS_xVâŠ†ğ”¸), \\
    & (âˆ€u.yRuâˆˆğ”¼â‡’âˆƒV.uS_yVâŠ†ğ”»), \\
    & (âˆ€V.sS_zVâ‡’Vâˆ©â„‚â‰ 0),      \\
    & sâˆˆğ”» \\
    â‡’\ & âˆƒVâŠ†ğ”¹.xS_wV,R[V]âŠ†â„‚
    \end{flalign*}

    {{{begintheorem}}}
    For any generalized frame $F$, we have that $F$ satisfies the
    $(RÂ²)_{gen}$ condition iff any model based on $F$ forces every instantiation of
    the $RÂ²$ principle. In symbols:

    \[FâŠ¨(RÂ²)_{gen}â‡”FâŠ©RÂ²\]
    {{{endtheorem}}}

    {{{beginproof}}}
    - \boxed{â‡’} Fix a model and assume that for some world $w$ we have $wâŠ©Aâ–·B$.
      Consider some $x$ such that $wRxâŠ©â™¢ [(E â–· D) âˆ§ â™¢ Â¬ (E â–· Â¬ C)] âˆ§ (D â–· A)$.
      Hence there exists some $y$ such that $xRyâŠ©(E â–· D) âˆ§ â™¢ Â¬ (E â–· Â¬ C)$. It
      follows that there exists some $z$ such that $yRzâŠ© Â¬ (E â–· Â¬ C)$ and thus
      there exists some $s$ such that $zRsâŠ©E$ and $(â‹†)\ âˆ€V(sS_zVâ‡’âˆƒcâˆˆV(câŠ©C))$.
    - \boxed{â‡}
    {{{endproof}}}

    \newpage
** $Râ¿$ principle
*** Generalized semantics
    The $(Râ¿)_{gen}$ condition reads as follows:

    \begin{flalign*}
    &âˆ€w,xâ‚€,â€¦x_{n-1},y,z,ğ”¸,ğ”¹,â„‚,ğ”»â‚€,â€¦,ğ”»_{n-1}.\\
    &wRxâ‚€Râ€¦Rx_{n-1}RyRz, \\
    & (âˆ€u.wRu,uâˆˆğ”¸â‡’âˆƒV.uS_wVâŠ†ğ”¹), \\
    & (âˆ€u.xâ‚€Ruâˆˆğ”»â‚™â‡’âˆƒV.uS_{xâ‚€}VâŠ†ğ”¸), \\
    & (âˆ€iâˆˆ\{1â€¦n-1\}âˆ€u.xáµ¢Ruâˆˆğ”»â‚™â‚‹áµ¢â‡’âˆƒV.uS_{xáµ¢}VâŠ†ğ”»â‚™), \\
    & (âˆ€V.zS_yVâ‡’Vâˆ©â„‚â‰ 0),      \\
    & zâˆˆğ”» \\
    â‡’\ & âˆƒVâŠ†ğ”¹.xâ‚€S_wV,R[V]âŠ†â„‚
    \end{flalign*}
